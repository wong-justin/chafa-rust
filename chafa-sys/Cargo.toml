[package]
name = "chafa-sys"
version = "0.1.0"
edition = "2021"
description = "chafa FFI bindings generated by bindgen"

[build-dependencies]
bindgen = { version = "= 0.65.1", optional = true }
# upgrade bindgen to avoid identifier parsing bug:
# https://stackoverflow.com/a/76443281
#
# even tho this upgraded bindgen requires rustc 1.70.1+
# im using rustc >= 1.80.1 now, so it's ok

pkg-config = "= 0.3"
# could technically replace pkg-config:
# https://users.rust-lang.org/t/how-to-make-a-sys-crate/13767/8
#
# "For linking I went with simply outputting cargo:rustc-link-lib= from build.rs,
# with ability to set the library path with an environment variable (no pkg-config)
# and with default path on Windows set to where the library installer
# installs the libraries by default."

[features]
# mutally exclusive
link-dynamic = []
link-static = []

bindgen = ["dep:bindgen"]
